{% layout none %}
{%- assign current_variant = product.selected_or_first_available_variant -%}
{%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}
<div class="col-md-6 no-padding-left no-padding-right background-img-color euqal-height">
    <div class="product-image-left">    
      <div id="feature__product-{{product.id}}" class="feature__product owl-carousel" data-slider-id="1">
          {% for image in product.images %}
          <div class="item" >
              <img src="{{image | img_url:'master'}}" alt="">
          </div>
          {% endfor %}
      </div> 
      <div id="feature__productThumbs-{{product.id}}" class="feature__product thumb owl-carousel" data-slider-id="1">
          {% for image in product.images %}
          <div class="" >
              <img src="{{image | img_url:'500x'}}" alt="">
          </div>
          {% endfor %}
      </div> 
    </div>
  </div>
  <div class="col-md-6 euqal-height background-white product_content_section">
    <div class="product-add-to-cart-right">
                  
      <div class="clearfix"> </div>
      <h2><a href="{{product.url}}">{{ product.title | default: 'Example Product Title' }}</a></h2>
      <p class="vendor_name">{{product.vendor}}</p>
      <div class="ratingbox">
        <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
      </div>
      {% form 'product', product, data-product-form: '', data-product-handle: product.handle, data-enable-history-state: 'true' %} 
      <input type="hidden" name="form_type" value="product">
      <div class="prizebox" data-price-wrapper>
        <label class="visually-hidden" data-price-text>{{ 'Price' }}</label>
        <h3 data-product-price id="get_price">
          {{ current_variant.price | default: '1999' | money }}
          {% if product.compare_at_price_max > product.price %}
          <span data-compare-price>
            {% if current_variant.compare_at_price > current_variant.price %}
            <s>{{ current_variant.compare_at_price | money }}</s>
            {% endif %}
          </span>
          {% endif %}
        </h3>
      </div>
      <div class="form-group">
        {% if product.available and product.variants.size > 1 %}
              {% for option in product.options_with_values %}
              {% assign downOption = option.name | downcase %}
                {% assign optionIndex = forloop.index %}
                {% assign varOptionIndex = 'option'|append:forloop.index %}
                <div class="select__{{downOption}}">
                  <p class="small-size size_title">SELECT {{option.name}}</p>
                  <ul class="product-loop-variants {{downOption}} variants circle _small list-unstyled">                            
                  {%- for value in option.values -%}  
                      <li class="{{downOption}}_option">
                        <input class="productOption" type="radio" name="option-{{optionIndex}}" value="{{value}}" {% if option.selected_value == value %}checked{% endif %}>
                        <span class="option {% if option.selected_value == value %}selected{% endif %}" {% if downOption == 'color' or  downOption == 'colour'%}{% unless block.settings.variant_image %} style="background-color:{{value}};"{% endunless %}{% endif %}>
                            {% if downOption == 'color' or  downOption == 'colour'%}    
                              {% if block.settings.variant_image %}                                                                                  
                                  {% assign variantsList = product.variants | where: varOptionIndex, value %}                                             
                                  {% for variant in variantsList %}
                                    {% if variant.featured_image != blank %}
                                        <img src="{{variant.featured_image | img_url:"100x"}}">
                                        {% break %}
                                    {% endif %}
                                  {% endfor %}
                              {% endif %}
                            {% else %}
                            {{value}}
                            {% endif%}
                        </span>
                      </li>
                  {% endfor %}
                  </ul> 
                </div>
              {% endfor %}
              {% endif %}
        <select name="id" id="ProductSelect" class="product-form__variants no-js hide js">
          {% for variant in product.variants %}
          {% if variant.available %}
          <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value="{{ variant.id }}">
            {{ variant.title }}
          </option>
          {% else %}
          <option disabled="disabled">{{ variant.title }} - {{ 'products.product.sold_out' | t }}</option>
          {% endif %}
          {% endfor %}
        </select>
        
         {% if section.settings.product_quantity_enable %}
        <div class="quantity">
          <label for="Featured_quantity" class="quantity_label">Quantity</label>
          <div class="quantity_container">
            <input type="number" name="quantity" class="quantity-cart" value="1"  id="Featured_quantity" >
            <a href="JavaScript:void(0);" class="q_up quantity-up" id="quantity_plus" >
                          +</a>
            <a href="JavaScript:void(0);" class="q_down quantity-down" id="quantity_minus">-</a>
          </div>
        </div>
         {% endif %}
        
        <div class="btn-box product-featured-form-submit {% if section.settings.enable_payment_button %} product-form--payment-button{% endif %}">
          <button
                  type="submit"
                  name="add"
                  data-add-to-cart id="Sd_addProduct"
                  {% unless product.available %}disabled="disabled"{% endunless %}
                  {% if section_onboarding %}disabled="disabled"{% endif %} class="Sd_addProduct black-btn button">
           	<span>
            {% if product.available %}
            {{ 'products.product.add_to_cart' | t }}
            {% else %}
            {{ 'products.product.sold_out' | t }}
            {% endif %}
            </span>
            <svg height="18" width="18" class="svg-loader" style="display:none;">
              <circle r="7" cx="9" cy="9"></circle>
              <circle stroke-dasharray="87.96459430051421 87.96459430051421" r="7" cx="9" cy="9"></circle>
            </svg>
          </button>

          {% if section.settings.enable_payment_button %}
          {{ form | payment_button }}
          {% endif %}
        </div>
          <a href="{{product.url}}">View Detail</a>
      </div>
      {% endform %}
      <div class="rte">
        {{product.description |strip_html| truncatewords:50}}
      </div>
      <div class="social-icons">
      {% include 'social-sharing', hidetext:true, share_title: product.title, share_permalink: product.url, share_image: product %}
      </div>
    </div>
  
  
    <script type="application/json" name="variant-json">
      {{ product.variants | json }}
    </script>
  </div>
    <script>
    $(document).ready(function(){
                                 var sync1 =$('#feature__product-{{product.id}}');
                                 var sync2 = $('#feature__productThumbs-{{product.id}}');

                                 var thumbnailItemClass = '.owl-item';

                                 var slides = sync1.owlCarousel({
                                   video:true,
                                   startPosition: 12,
                                   items:1,
                                   loop:true,
                                   margin:10,
                                   autoplay:true,
                                   autoplayTimeout:6000,
                                   autoplayHoverPause:false,
                                   nav: false,
                                   dots: false
                                 }).on('changed.owl.carousel', syncPosition);

                                 function syncPosition(el) {
                                   $owl_slider = $(this).data('owl.carousel');
                                   var loop = $owl_slider.options.loop;

                                   if(loop){
                                     var count = el.item.count-1;
                                     var current = Math.round(el.item.index - (el.item.count/2) - .5);
                                     if(current < 0) {
                                       current = count;
                                     }
                                     if(current > count) {
                                       current = 0;
                                     }
                                   }else{
                                     var current = el.item.index;
                                   }

                                   var owl_thumbnail = sync2.data('owl.carousel');
                                   var itemClass = "." + owl_thumbnail.options.itemClass;


                                   var thumbnailCurrentItem = sync2
                                   .find(itemClass)
                                   .removeClass("synced")
                                   .eq(current);

                                   thumbnailCurrentItem.addClass('synced');

                                   if (!thumbnailCurrentItem.hasClass('active')) {
                                     var duration = 300;
                                     sync2.trigger('to.owl.carousel',[current, duration, true]);
                                   }   
                                 }
                                 var thumbs = sync2.owlCarousel({
                                   startPosition: 12,
                                   items:4,
                                   loop:false,
                                   margin:10,
                                   autoplay:false,
                                   nav: false,
                                   dots: false,
                                   onInitialized: function (e) {
                                     var thumbnailCurrentItem =  $(e.target).find(thumbnailItemClass).eq(this._current);
                                     thumbnailCurrentItem.addClass('synced');
                                   },
                                 })
                                 .on('click', thumbnailItemClass, function(e) {
                                   e.preventDefault();
                                   var duration = 300;
                                   var itemIndex =  $(e.target).parents(thumbnailItemClass).index();
                                   sync1.trigger('to.owl.carousel',[itemIndex, duration, true]);
                                 }).on("changed.owl.carousel", function (el) {
                                   var number = el.item.index;
                                   $owl_slider = sync1.data('owl.carousel');
                                   $owl_slider.to(number, 100, true);
                                 });
    })
</script>
{% section 'quick-view-related' %}