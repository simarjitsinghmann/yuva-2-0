<div class="section-spacer">
    <div class="container">
      <div class="collection-section-header section-heading-box">                  
        {%- if section.settings.heading != blank -%}
        <h2 class="title">{{section.settings.heading}}</h2>
        {%- endif %}
        {%- if section.settings.btntext != blank and section.settings.btnlink != blank -%}
        <a class="view-all" href="{{section.settings.btnlink}}">{{section.settings.btntext}}</a>
        {%- endif -%}
      </div>
      <div class="colllection-list-view collection-count-{{section.blocks.size}}">
        <div class="row">
          <div class="col-sm-12 {% if section.blocks.size > 1 %}col-md-6{% else %}col-md-12{% endif %}">
          {%- for block in section.blocks -%}
          {%- if forloop.first -%}
          {%- assign collection = block.settings.collection -%}
            <div class="collection-list-view-wrapper left-wrapper" id="block-{{block.id}}"  {{ block.shopify_attributes }}>
              <div class="collection-list-view-card {% if section.settings.show_hover_content %}on-hover-content{% endif %}" >
                {%- if block.settings.image != blank -%}
                {%- include 'lazy-image' image:block.settings.image -%}
                {%- elsif collection.featured_image -%}
                {%- include 'lazy-image' image:collection.featured_image -%}
                {%- else -%}
                {%- render 'placeholder' -%}
                {%- endif -%}
                    {%- if block.settings.collection != blank or block.settings.heading != blank -%}
                <div class="list-view-content">          
                  {%- if block.settings.heading != blank -%}
                  <h2>{{block.settings.heading}}</h2>
                  {%- else -%}
                  <h2>{{collection.title}}</h2>
                  {%- endif -%}
                  {%- if block.settings.collection != blank and block.settings.btntext != blank -%}
                  <a href="{{collection.url}}" class="link">{{block.settings.btntext}}</a>
                  {%- endif -%}
                </div>
                {%- endif -%}
              </div>
            </div>
          {%- endif -%}
          {%- endfor -%}
          </div>
          {%- if section.blocks.size > 1 -%}
          <div class="col-sm-12 col-md-6">
            <div class="small-collection-list">
              {%- for block in section.blocks -%}
              {%- unless forloop.first -%}
              {%- assign collection = block.settings.collection -%}
              <div id="block-{{block.id}}" class="small-collection-item" {{ block.shopify_attributes }}>
                <div class="collection-list-view-wrapper right-wrapper">
                  <div class="collection-list-view-card {% if section.settings.show_hover_content %}on-hover-content{% endif %}">
                    {%- if block.settings.image != blank -%}
                    {%- include 'lazy-image' image:block.settings.image -%}
                    {%- elsif collection.featured_image -%}
                    {%- include 'lazy-image' image:collection.featured_image -%}
                    {%- else -%}
                    {%- render 'placeholder' -%}
                    {%- endif -%}
                    {%- if block.settings.collection != blank or block.settings.heading != blank -%}
                    <div class="list-view-content">          
                      {%- if block.settings.heading != blank %}
                      <h4>{{block.settings.heading}}</h4>
                      {%- elsif block.settings.collection != blank -%}
                      <h4>{{collection.title}}</h4>
                      {%- endif -%}
                      {%- if block.settings.collection != blank and block.settings.btntext != blank -%}
                      <a href="{{collection.url}}" class="link">{{block.settings.btntext}}</a>
                      {%- endif -%}
                    </div>
                    {%- endif -%}
                  </div>
                </div>
              </div>
              {%- endunless -%}
              {%- endfor -%}
            </div>
          </div>
          {%- endif -%}
        </div>
      </div>
    </div>
</div>
<style>
  #shopify-section-{{section.id}}.shopify-section {
    padding-top:{{section.settings.top_space_desktop}}px;
    padding-bottom:{{section.settings.bottom_space_desktop}}px;
  }
  @media only screen and (max-width:575px) {
    #shopify-section-{{section.id}}.shopify-section{
      padding-top:{{section.settings.top_space_mobile}}px;
      padding-bottom:{{section.settings.bottom_space_mobile}}px;
    }
  }
</style>
{% schema %}
{
  "name": "t:sections.featured-collections-list.name",
  "tag": "section",
  "class":"collection-list-section",
	"max_blocks":5,
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "Collection list",
      "label": "t:sections.featured-collections-list.settings.heading.label"
    },
	{
      "type": "text",
      "id": "btntext",
      "default": "View All",
      "label": "t:sections.featured-collections-list.settings.btntext.label"
    },
    {
      "type": "url",
      "id": "btnlink",
      "label": "t:sections.featured-collections-list.settings.btnlink.label"
    },
    {
      "type": "checkbox",
      "id": "show_hover_content",
      "label": "t:sections.featured-collections-list.settings.show_hover_content.label",
      "default":true
    },
    {
      "type": "range",
      "id": "top_space_desktop",
      "label": "t:sections.featured-collections-list.settings.top_space_desktop.label",
      "default":30,
      "min":0,
      "max":60,
      "step":5
    },
    {
      "type": "range",
      "id": "bottom_space_desktop",
      "label": "t:sections.featured-collections-list.settings.bottom_space_desktop.label",
      "default":30,
      "min":0,
      "max":60,
      "step":5
    },
    {
      "type": "range",
      "id": "top_space_mobile",
      "label": "t:sections.featured-collections-list.settings.top_space_mobile.label",
      "default":30,
      "min":0,
      "max":60,
      "step":5
    },
    {
      "type": "range",
      "id": "bottom_space_mobile",
      "label": "t:sections.featured-collections-list.settings.bottom_space_mobile.label",
      "default":30,
      "min":0,
      "max":60,
      "step":5
    }
  ],
  "blocks": [
	  {
      "type":"collection",
      "name":"t:sections.featured-collections-list.blocks.collection.name",
      "settings": [        
        {
          "type": "collection",
          "id": "collection",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.collection.label"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.image.label",
		 "info": "e.g. 776 x 670"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.heading.label"
        },
        {
          "type": "text",
          "id": "btntext",
          "default": "Shop Now",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.btntext.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.featured-collections-list.presets.name",
      "blocks": [
        {
          "type": "collection"
        },
        {
          "type": "collection"
        }
      ]
    }
  ]
}
{% endschema %}