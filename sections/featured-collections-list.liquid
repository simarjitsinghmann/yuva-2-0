{{'section-featured-collections-list.css' | asset_url | stylesheet_tag }}
<div id="section-{{section.id}}" class="colllection-list-view">
  <div class="container">
    <div class="collection-section-header section-heading-box">                  
      {% if section.settings.heading != blank %}
      <h2 class="title">{{section.settings.heading}}</h2>
      {% endif %}
      {% if section.settings.btntext != blank %}
      <a class="view-all" href="{{section.settings.btnlink}}">{{section.settings.btntext}}</a>
      {% endif %}
    </div>
    {% assign colWidth = 'col-md-4' %}
    {% if section.settings.view_limit == 2 %}
    {% assign colWidth = 'col-md-6' %}
    {% elsif section.settings.view_limit == 4 %}
    {% assign colWidth = 'col-md-3' %}
      {% endif %}
    <div class="collectionSlider">
      {% for block in section.blocks %}
      {% if block.settings.collection != blank %}
      {% assign collection = block.settings.collection %}
      <div class="" id="block-{{block.id}}">
        <div class="collection-list-view-card">
           {% if block.settings.image != blank %}
              <img src="{{ block.settings.image | img_url:'500x500'}}" />
              {% else %}
              <img src="{{ collection.featured_image | img_url:'500x500'}}" />
               {% endif %}
          
            <div class="list-view-content">          
      {% if block.settings.heading != blank %}
              <h2>{{block.settings.heading}}</h2>
              {% else %}
              <h2>{{collection.title}}</h2>
               {% endif %}
              <a href="{{collection.url}}" class="link">{{block.settings.btntext}}</a>
            </div>
        </div>
        <style>
          #block-{{block.id}} .list-view-content{
            background:{{block.settings.overlay_color | color_modify: 'alpha', block.settings.overlay_opacity}};
          }
        </style>
      </div>
      {% endif %}
      {% endfor%}
    </div>
  </div>
</div>
<style>
  
          #section-{{section.id}} .collection-list-view-card h2{
            font-size:{{section.settings.heading_font }}px;
          }
</style>

{% schema %}
{
  "name": "t:sections.featured-collections-list.name",
  "tag": "section",
  "class":"collection-list-section",
	"max_blocks":8,
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "Collection list",
      "label": "t:sections.featured-collections-list.settings.heading.label"
    },
    {
      "type": "text",
      "id": "btntext",
      "default": "View All",
      "label": "t:sections.featured-collections-list.settings.btntext.label"
    },
    {
      "type": "url",
      "id": "btnlink",
      "label": "t:sections.featured-collections-list.settings.btnlink.label"
    },
        {
          "type": "range",
          "id": "view_limit",
          "default": 3,
          "label": "t:sections.featured-collections-list.settings.view_limit.label",
          "min": 2,
          "max": 4,
          "step": 1
        },
        {
          "type": "range",
          "id": "heading_font",
          "default": 25,
          "label": "t:sections.featured-collections-list.settings.heading_font.label",
          "min": 20,
          "max": 38,
          "step": 1,
          "unit": "px"
        }
  ],
  "blocks": [
	  {
      "type":"collection",
      "name":"t:sections.featured-collections-list.blocks.collection.name",
      "settings": [        
        {
          "type": "collection",
          "id": "collection",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.collection.label"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.image.label"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.heading.label"
        },
        {
          "type": "text",
          "id": "btntext",
          "default": "Shop Now",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.btntext.label"
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.overlay_color.label",
          "default": 0.5,
          "min": 0,
          "max": 1,
          "step": 0.1
        },
        {
          "type": "color",
          "id": "overlay_color",
          "label": "t:sections.featured-collections-list.blocks.collection.settings.overlay_color.label",
          "default":"#000000"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.featured-collections-list.presets.name",
      "blocks": [
        {
          "type": "collection"
        },
        {
          "type": "collection"
        },
        {
          "type": "collection"
        }
      ]
    }
  ]
}
{% endschema %}