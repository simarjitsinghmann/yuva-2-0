{%- assign product = section.settings.product -%}
{%- assign current_variant = product.selected_or_first_available_variant -%}
{%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}

{% if product == empty %}
{%- assign section_onboarding = true -%}
{%- assign onboarding_title = 'Example Product Title' -%}
{% endif %}
  <div class="container ">
    <div class="row">
<!--         <h4>Featured Product</h4> -->
    <div class="box-shadow feature-product product_content_section ">
      <div class="row  no-margin ">
        <div class="col-md-7 no-padding-left no-padding-right background-img-color euqal-height">
          <div class="product-image-left">
            {% unless product == empty %}
          
            <div id="feature__product-{{section.id}}" class="feature__product" data-slider-id="1">

                <div class="item" >
                    <img src="{{product.featured_image.src | img_url:'master'}}" alt="">
                </div>
            </div>          
            
            {%else%}
             {{ 'product-' | append: 1 | placeholder_svg_tag: 'placeholder-svg placeholder-svg--small' }}
            {%endunless%}
          </div>
        </div>

        <div class="col-md-5 euqal-height right__side_bg">
          <div class="product-add-to-cart-right">
                        
            <div class="clearfix"> </div>
            <h2>{{ product.title | default: 'Example Product Title' }}</h2>
             {% if section.settings.product_vendor_enable %}
            <p class="vendor_name">{{product.vendor}}</p>
             {% endif %}
            {% if section.settings.product_reviews_enable %}
            <div class="ratingbox">
              <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
            </div>
             {% endif %}
            {% if product != empty %}
            {% form 'product', product, data-product-form: '', data-product-handle: product.handle, data-enable-history-state: 'true' %} 
            <input type="hidden" name="form_type" value="product">
            <div class="prizebox" data-price-wrapper>
              <label class="visually-hidden" data-price-text>{{ 'Price' }}</label>
              <h3 data-product-price id="get_price">
                {{ current_variant.price | default: '1999' | money }}
                {% if product.compare_at_price_max > product.price %}
                <span data-compare-price>
                  <s>{% if current_variant.compare_at_price > current_variant.price %}
                    {{ current_variant.compare_at_price | money }}</s>
                  {% endif %}
                </span>
                {% endif %}
              </h3>
            </div>
            <div class="form-group">
              {% for option in product.options_with_values %}
              {% assign downOption = option.name | downcase %}
                {% assign optionIndex = forloop.index %}
                {% assign varOptionIndex = 'option'|append:forloop.index %}
                <div class="select__{{downOption}}">
                  <p class="small-size size_title">SELECT {{option.name}}</p>
                  <ul class="product-loop-variants {{downOption}} variants circle _small list-unstyled">                            
                  {%- for value in option.values -%}  
                      <li class="{{downOption}}_option">
                        <input class="productOption" type="radio" name="option-{{optionIndex}}" value="{{value}}" {% if option.selected_value == value %}checked{% endif %}>
                        <span class="option {% if option.selected_value == value %}selected{% endif %}" {% if downOption == 'color' or  downOption == 'colour'%}{% unless block.settings.variant_image %} style="background-color:{{value}};"{% endunless %}{% endif %}>
                            {% if downOption == 'color' or  downOption == 'colour'%}    
                              {% if block.settings.variant_image %}                                                                                  
                                  {% assign variantsList = product.variants | where: varOptionIndex, value %}                                             
                                  {% for variant in variantsList %}
                                    {% if variant.featured_image != blank %}
                                        <img src="{{variant.featured_image | img_url:"100x"}}">
                                        {% break %}
                                    {% endif %}
                                  {% endfor %}
                              {% endif %}
                            {% else %}
                            {{value}}
                            {% endif%}
                        </span>
                      </li>
                  {% endfor %}
                  </ul> 
                </div>
              {% endfor %}
              <select name="id" id="ProductSelect" class="product-form__variants no-js hide js">
                {% for variant in product.variants %}
                {% if variant.available %}
                <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value="{{ variant.id }}">
                  {{ variant.title }}
                </option>
                {% else %}
                <option disabled="disabled">{{ variant.title }} - {{ 'products.product.sold_out' | t }}</option>
                {% endif %}
                {% endfor %}
              </select>
              
               {% if section.settings.product_quantity_enable %}
              <div class="quantity">
                <label for="Featured_quantity" class="quantity_label">Select Quantity</label>
                <div class="quantity_container">
                  <input type="number" name="quantity" class="quantity-cart" value="1"  id="Featured_quantity" >
                  <a href="JavaScript:void(0);" class="q_up quantity-up" id="quantity_plus" >
                                <img src="{{'plus.png' | asset_url}}" alt=""></a>
                  <a href="JavaScript:void(0);" class="q_down quantity-down" id="quantity_minus"> <img src="{{'minus.png' | asset_url}}" alt=""></a></a>
                </div>
              </div>
               {% endif %}
              
              <div class="btn-box product-featured-form-submit {% if section.settings.enable_payment_button %} product-form--payment-button{% endif %}">
                <button
                        type="submit"
                        name="add"
                        data-add-to-cart id="Sd_addProduct"
                        {% unless product.available %}disabled="disabled"{% endunless %}
                        {% if section_onboarding %}disabled="disabled"{% endif %} class="black-btn button Sd_addProduct">
                  {% if product.available %}
                  {{ 'products.product.add_to_cart' | t }}
                  {% else %}
                  {{ 'products.product.sold_out' | t }}
                  {% endif %}
                </button>

                {% if product.available %}
                {% endif %}
                {% if section.settings.enable_payment_button %}
                {{ form | payment_button }}
                {% endif %}
              </div>
            </div>
            {% endform %}
            {%else%}

            <form action="/cart/add" method="post" enctype="multipart/form-data">
            <input type="hidden" name="form_type" value="product">
            <div class="prizebox" data-price-wrapper>
              <label class="visually-hidden" data-price-text>{{ 'Price' }}</label>
              <h3 data-product-price id="get_price">
                {{ current_variant.price | default: '1999' | money }}
                {% if product.compare_at_price_max > product.price %}
                <span data-compare-price>
                  {% if current_variant.compare_at_price > current_variant.price %}
                  {{ current_variant.compare_at_price | money }}
                  {% endif %}
                </span>
                {% endif %}
              </h3>
            </div>
            <div class="form-group">
            <div class="quantity">
                <label for="Featured_quantity" class="quantity_label">Quantity</label>
                <div class="quantity_container">
                    <input type="number" name="quantity" class="quantity-cart" value="1"  id="Featured_quantity" >
                    <a href="JavaScript:void(0);" class="q_up quantity-up" id="quantity_plus" >
                                +</a>
                    <a href="JavaScript:void(0);" class="q_down quantity-down" id="quantity_minus">-</a>
                </div>
            </div>
              <div class="btn-box product-featured-form-submit {% if section.settings.enable_payment_button %} product-form--payment-button{% endif %}">
                <button
                        type="submit"
                        name="add"
                        data-add-to-cart id="Sd_addProduct"
                        {% unless product.available %}disabled="disabled"{% endunless %}
                        {% if section_onboarding %}disabled="disabled"{% endif %} class="black-btn button">
                  {% if product.available %}
                  {{ 'products.product.add_to_cart' | t }}
                  {% else %}
                  {{ 'products.product.sold_out' | t }}
                  {% endif %}
                </button>

                {% if product.available %}
                {% endif %}
                {% if section.settings.enable_payment_button %}
                {{ form | payment_button }}
                {% endif %}
              </div>
            </div>
           </form>
            {%endif%}
            {% if section.settings.show_share_buttons %}
            {% include 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product %}
            {% endif %}
          </div>
          
        {% unless product == empty %}
        <script type="application/json" name="variant-json">
          {{ product.variants | json }}
        </script>
      {% endunless %}
        </div>
      </div>
    </div>
    </div>
  </div>  
{% comment %}
<script>
    $(document).ready(function(){
        $('#feature__product-{{section.id}}').owlCarousel({
            loop: true,
            items: 1,
            thumbs: true,
            thumbImage: true,
            thumbContainerClass: 'owl-thumbs',
            thumbItemClass: 'owl-thumb-item',
            margin:10
         });
    })
</script>
{% endcomment %}
{% schema %}
    {
        "name": "t:sections.featured-product.name",
        "tag": "section",
        "class":"feature-section",
        "settings": [
            {
                "type": "product",
                "id": "product",
                "label": "t:sections.featured-product.settings.product.label"
            },
            {
                "type": "checkbox",
                "id": "show_share_buttons",
                "label": "t:sections.featured-product.settings.show_share_buttons.label"
            },
            {
                "type": "checkbox",
                "id": "enable_payment_button",
                "label": "t:sections.featured-product.settings.enable_payment_button.label",
                "info": "t:sections.featured-product.settings.enable_payment_button.info",
                "default": true
            },
            {
                "type": "checkbox",
                "id": "product_quantity_enable",
                "label": "t:sections.featured-product.settings.product_quantity_enable.label",
                "default": true
            },    
            {
                "type": "checkbox",
                "id": "product_vendor_enable",
                "label": "t:sections.featured-product.settings.product_vendor_enable.label",
                "default": true
            },
            {
                "type": "checkbox",
                "id": "product_reviews_enable",
                "label": "t:sections.featured-product.settings.product_reviews_enable.label",
                "info": "t:sections.featured-product.settings.product_reviews_enable.info",
                "default": true
            }
        ],
        "presets": [
            {
                "name": "t:sections.featured-product.presets.name",
                "category": "Product"
            }
        ]
    }
{% endschema %}