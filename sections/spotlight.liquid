<div class="spotlightSectionMain">
  <div class="spotlighSectionWrapper">
      {%- if section.settings.image != blank -%}
      {%- render 'lazy-image' image:section.settings.image,class:'spotlightSectionImage' -%}
      {%-else-%}
      <div class="spotlightSectionPlaceholder">{% render 'banner-placeholder'%}</div>
      {%- endif %}
    {% for block in section.blocks %}
    <div class="spotlightPoint" style="top:{{block.settings.vertical}}%;left:{{block.settings.horizontal}}%">
      {% if block.settings.product != blank %}
      <div class="spotlightProductDetails">
        <a href="{{block.settings.product.url}}">
          <h3>{{block.settings.product.title}}</h3>
        </a>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</div>
<style>
  img.spotlightSectionImage {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
  .spotlighSectionWrapper {
    width: 100%;
    height: 600px;
    position: relative;
}
  .spotlightPoint{
  	position:absolute;
    width:10px;
    height:10px;    
  }
  
  .spotlightPoint:before{
    content:'';
    width:10px;
    height:10px;
    border-radius:50px;
    background:#000;
  }
  .spotlightProductDetails{
  	display:none;
  }
  </style>
{% schema %}
  {
    "name": "Spotlight",
    "class": "spotlight-section",
    "settings": [
		{
			"type":"image_picker",
			"label":"Image",
			"id":"image"
		}
	],
    "blocks": [
		{
          "type": "spot",
          "name": "Spot",
          "settings": [
              {
                  "type":"product",
                  "label":"product",
                  "id":"product"
              },
              {
                  "type":"range",
                  "label":"Horizontal position",
                  "id":"horizontal",
                  "min":1,
                  "max":100,
                  "step":1,
                  "unit":"%",
                  "default":1
              },
              {
                  "type":"range",
                  "label":"Vertical position",
                  "id":"vertical",
                  "min":1,
                  "max":100,
                  "step":1,
                  "unit":"%",
                  "default":1
              }
          ]
		}
	],
	"presets":[
		{
			"name":"Spotlight"
		}
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
