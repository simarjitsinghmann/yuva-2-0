{% case section.settings.header_style %}
    {% when 'header1' %}
        {% include 'header-1' mobileMenu:true %}
    {% when 'header2' %}
        {% include 'header-2' mobileMenu:true %}
    {% when 'header3' %}
        {% include 'header-3' %}
{% endcase %}

{% if section.settings.enable_sticky_header %}
  <script>
      ///Sticky-header//
    $(window).scroll(function () {
      if($(window).scrollTop()>150){
        $(".top-header").addClass("sticky-header");
        $("header").addClass("sticky-header");
      }else {
        $(".top-header").removeClass("sticky-header");
        $("header").removeClass("sticky-header");
      }
    });
  </script>
{% endif %}

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": {{ shop.name | json }},
    {% if section.settings.logo %}
      {% assign image_size = section.settings.logo.width | append: 'x' %}
      "logo": {{ section.settings.logo | img_url: image_size | prepend: "https:" | json }},
    {% endif %}
    "sameAs": [
      {{ settings.social_twitter_link | json }},
      {{ settings.social_facebook_link | json }},
      {{ settings.social_pinterest_link | json }},
      {{ settings.social_instagram_link | json }},
      {{ settings.social_tumblr_link | json }},
      {{ settings.social_snapchat_link | json }},
      {{ settings.social_youtube_link | json }},
      {{ settings.social_vimeo_link | json }}
    ],
    "url": {{ shop.url | append: page.url | json }}
  }
</script>

{%- if request.page_type == 'index' -%}
  {% assign potential_action_target = shop.url | append: routes.search_url | append: "?q={search_term_string}" %}
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "name": {{ shop.name | json }},
      "potentialAction": {
        "@type": "SearchAction",
        "target": {{ potential_action_target | json }},
        "query-input": "required name=search_term_string"
      },
      "url": {{ shop.url | append: page.url | json }}
    }
  </script>
{%- endif -%}

{% schema %}
{
  "name": "t:sections.header.name",
  "class": "shopify-section-main-header",
  "max_blocks":8,
  "settings": [
    {
      "type": "select",
      "id": "header_style",
      "label": "t:sections.header.settings.header_style.label",
      "default": "header1",
      "options": [
        {
          "label": "t:sections.header.settings.header_style.header1.label",
          "value": "header1"
        },
        {
          "label": "t:sections.header.settings.header_style.header2.label",
          "value": "header2"
        },
        {
          "label": "t:sections.header.settings.header_style.header3.label",
          "value": "header3"
        }
      ]
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:sections.header.settings.logo.label"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 250,
      "step": 10,
      "default": 100,
      "unit": "t:sections.header.settings.logo_width.unit",
      "label": "t:sections.header.settings.logo_width.label"
    },
    {
      "type": "select",
      "id": "logo_position",
      "label": "t:sections.header.settings.logo_position.label",
      "info": "t:sections.header.settings.logo_position.info",
      "default": "left",
      "options": [
        {
          "label": "t:sections.header.settings.logo_position.left.label",
          "value": "left"
        },
        {
          "label": "t:sections.header.settings.logo_position.center.label",
          "value": "center"
        }
      ]    
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "t:sections.header.settings.menu.label"
    },
    {
      "type": "checkbox",
      "id": "megamenu",
      "default": false,
      "label": "Enable Mega Menu",
      "info": "For Mega Menu, Add Blocks in the Header"
    },
    {
      "type": "select",
      "id": "menu_position",
      "label": "t:sections.header.settings.menu_position.label",
      "info": "t:sections.header.settings.menu_position.info",
      "default": "left",
      "options": [
        {
          "label": "t:sections.header.settings.menu_position.left.label",
          "value": "left"
        },
        {
          "label": "t:sections.header.settings.menu_position.center.label",
          "value": "center"
        }
      ]    
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "default": true,
      "label": "t:sections.header.settings.show_search.label"
    },
    {
      "type": "checkbox",
      "id": "show_currency",
      "default": true,
      "label": "t:sections.header.settings.show_currency.label"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "default": true,
      "label": "t:sections.header.settings.enable_sticky_header.label",
      "info": "t:sections.header.settings.enable_sticky_header.info"
    }
  ],
  "blocks": [
      {
        "type":"no-dropdown",
        "name":"No Dropdown",
        "settings": [
          {
              "type": "text",
              "id": "heading",
              "label": "Heading"
          },
          {
              "type": "url",
              "id": "link",
              "label": "Heading Link"
          }
        ]
      },
      {
        "type":"mutli-column",
        "name":"Multi Column Dropdown",
        "settings": [
          {
              "type": "text",
              "id": "heading",
              "label": "Heading"
          },
          {
              "type": "url",
              "id": "link",
              "label": "Heading Link"
          },
          {
              "type": "header",
              "content": "Column 1"
          },
          {
              "type": "text",
              "id": "c_heading1",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color1",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link1",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 2"
          },
          {
              "type": "text",
              "id": "c_heading2",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color2",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link2",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 3"
          },
          {
              "type": "text",
              "id": "c_heading3",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color3",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link3",
              "label": "Link"
          },
          {
              "type": "header",
              "content": "Column 4"
          },
          {
              "type": "text",
              "id": "c_heading4",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color4",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link4",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 5"
          },
          {
              "type": "text",
              "id": "c_heading5",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color5",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link5",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 6"
          },
          {
              "type": "text",
              "id": "c_heading6",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color6",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link6",
              "label": "Menu"
          }
        ]
      },
      {
        "type":"mc-image",
        "name":"Multi Column with Image",
        "settings": [
          {
              "type": "text",
              "id": "heading",
              "label": "Heading"
          },
          {
              "type": "url",
              "id": "link",
              "label": "Heading Link"
          },
          {
              "type": "header",
              "content": "Column 1"
          },
          {
              "type": "text",
              "id": "c_heading1",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color1",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link1",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 2"
          },
          {
              "type": "text",
              "id": "c_heading2",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color2",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link2",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 3"
          },
          {
              "type": "text",
              "id": "c_heading3",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color3",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link3",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Column 4"
          },
          {
              "type": "text",
              "id": "c_heading4",
              "label": "Title"
          },
          {
              "type": "color",
              "id": "c_heading_color4",
              "label": "Heading Color",
              "default": "#f17d35"
          },
          {
              "type": "link_list",
              "id": "c_link4",
              "label": "Menu"
          },
          {
              "type": "header",
              "content": "Image"
          },
          {
              "type": "image_picker",
              "id": "image",
              "label": "Image"
          },
          {
              "type": "url",
              "id": "image_link",
              "label": "Image Link"
          },
          {
            "type": "checkbox",
            "id": "img_style",
            "label": "Show Space Around Image",
            "default": true
          }
        ]
      }
  ]
}
{% endschema %}
